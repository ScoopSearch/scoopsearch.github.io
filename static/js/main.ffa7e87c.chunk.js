(this.webpackJsonpscoopsearch=this.webpackJsonpscoopsearch||[]).push([[0],{71:function(e,t,a){e.exports=a(85)},72:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n,r,i,o,l,c,s,u,h,f=a(1),d=a(6),m=a(8),p=a(13),b=a(12),g=(a(72),a(24)),y=a(14),E=a(34),v=a.n(E),O=a(49),C=a(92),j=a(93),P=a(61),S=a(94),k=a(97),R=a(62),A=a(10),N=a(11),w=(a(35),a(7)),x=(n=Object(w.JsonObject)("BucketsResultsJson"),r=Object(w.JsonProperty)("@odata.count",Number),i=Object(w.JsonProperty)("@search.facets"),n((h=u=function(){function e(){Object(d.a)(this,e),Object(A.a)(this,"count",c,this),Object(A.a)(this,"results",s,this)}return Object(m.a)(e,null,[{key:"Create",value:function(t){return e.jsonConvert.deserializeObject(t,e)}}]),e}(),u.jsonConvert=new w.JsonConvert,l=h,c=Object(N.a)(l.prototype,"count",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=Object(N.a)(l.prototype,"results",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),o=l))||o),T=function e(){Object(d.a)(this,e)};T.extractPathFromUrl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";return e.split("/").slice(-2).join(t)};var _,D,M=T,B=a(99),U=a(90),I=a(60),H=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return f.default.createElement(B.a,{placement:"auto",delay:250,overlay:f.default.createElement(U.a,{id:"tooltip"},"Well known bucket")},f.default.createElement(I.a,{className:"ml-1 faIconVerticalAlign",color:"#2E86C1"}))}}]),a}(f.PureComponent),J=a(52),z=a(91);!function(e){e[e.Applications=0]="Applications",e[e.Buckets=1]="Buckets"}(D||(D={}));var L,F,q,Q,K,W,Z,V,G,Y,$,X,ee,te,ae,ne,re,ie,oe,le,ce,se,ue,he,fe,de,me,pe,be,ge,ye,Ee,ve,Oe,Ce,je,Pe,Se,ke,Re,Ae,Ne,we,xe,Te,_e,De,Me,Be,Ue,Ie,He,Je,ze,Le=(_={},Object(J.a)(_,D.Applications,"applications"),Object(J.a)(_,D.Buckets,"buckets"),_),Fe=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.searching,a=e.resultsCount,n=e.query,r=e.type,i=Le[r];if(t)return f.default.createElement("span",null,f.default.createElement("span",null,"Searching for matching ",i,"...")," ",f.default.createElement(z.a,{animation:"border",size:"sm",variant:"secondary"}));var o=f.default.createElement("span",null);return n&&(o=f.default.createElement("span",null," ","for '",f.default.createElement("strong",null,n),"'")),a?f.default.createElement("span",null,"Found ",a," ",i,o,"."):f.default.createElement("span",null,"No result found",o,".")}}]),a}(f.PureComponent),qe=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.sortModes=["Default","Name","Manifests"],n.handleSortChange=function(e){var t=n.state.results,a=e.target.selectedIndex;n.setState({sortIndex:a,results:n.sortResults(t,a)})},n.state={searching:!1,sortIndex:0,results:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(O.a)(v.a.mark((function e(){var t,a,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.sortIndex,this.setState({searching:!0,results:[]}),e.next=4,this.fetchDataAsync(this.abortController.signal,!0);case 4:return a=e.sent,e.next=7,this.fetchDataAsync(this.abortController.signal,!1);case 7:n=e.sent,r=a.results["Metadata/Repository"].map((function(e){return{bucket:e.value,manifests:e.count,official:!0}})).concat(n.results["Metadata/Repository"].map((function(e){return{bucket:e.value,manifests:e.count,official:!1}}))),r=this.sortResults(r,t),this.setState({searching:!1,results:r});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"fetchDataAsync",value:function(){var e=Object(O.a)(v.a.mark((function e(t,a){var n,r,i,o,l,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_AZURESEARCH_KEY:"DC6D2BBE65FC7313F2C52BBD2B0286ED",REACT_APP_AZURESEARCH_URL:"https://scoopsearch.search.windows.net/indexes/apps/docs"}),r=n.REACT_APP_AZURESEARCH_URL,i=n.REACT_APP_AZURESEARCH_KEY,r){e.next=3;break}throw new Error("REACT_APP_AZURESEARCH_URL is not defined");case 3:if(i){e.next=5;break}throw new Error("REACT_APP_AZURESEARCH_KEY is not defined");case 5:return o="".concat(r,"/search?api-version=2020-06-30"),e.next=8,fetch(o,{method:"POST",body:JSON.stringify({count:!0,facets:["Metadata/Repository,count:10000"],filter:"Metadata/OfficialRepositoryNumber eq ".concat(a?"1":"0"),top:0}),headers:{"api-key":i,"Content-Type":"application/json"},signal:t});case 8:return l=e.sent,e.next=11,l.json();case 11:return c=e.sent,e.abrupt("return",x.Create(c));case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"sortResults",value:function(e,t){switch(t){case 0:return e.sort((function(e,t){return e.official===t.official?e.bucket.localeCompare(t.bucket):e.official<t.official?1:-1}));case 1:return e.sort((function(e,t){return e.bucket.localeCompare(t.bucket)}));case 2:return e.sort((function(e,t){return e.manifests===t.manifests?0:e.manifests<t.manifests?1:-1}));default:throw new Error("Unexpected sort")}}},{key:"render",value:function(){var e=this.state,t=e.results,a=e.searching;return f.default.createElement(f.default.Fragment,null,f.default.createElement(C.a,{className:"mt-5 mb-5"},f.default.createElement(j.a,null,f.default.createElement(P.a,{className:"my-auto"},f.default.createElement(Fe,{resultsCount:t.length,searching:a,type:D.Buckets})),f.default.createElement(P.a,{lg:3},f.default.createElement(S.a,{size:"sm"},f.default.createElement(S.a.Prepend,null,f.default.createElement(S.a.Text,null,"Sort by")),f.default.createElement(k.a.Control,{as:"select",size:"sm",custom:!0,onChange:this.handleSortChange},this.sortModes.map((function(e,t){return f.default.createElement("option",{key:e,value:t},e)})))))),t&&f.default.createElement(j.a,{className:"mt-2"},f.default.createElement(P.a,null,f.default.createElement(R.a,{striped:!0,bordered:!0,hover:!0},f.default.createElement("thead",null,f.default.createElement("tr",null,f.default.createElement("th",null,"Bucket"),f.default.createElement("th",null,"Manifests"))),f.default.createElement("tbody",null,t.map((function(e){return f.default.createElement("tr",{key:e.bucket},f.default.createElement("td",null,f.default.createElement(g.b,{to:{pathname:"/apps",search:encodeURIComponent('"'.concat(e.bucket,'"'))}},M.extractPathFromUrl(e.bucket))," ",e.official&&f.default.createElement(H,null)),f.default.createElement("td",null,e.manifests))}))))))))}}]),a}(f.PureComponent),Qe=a(100),Ke=a(98),We=a(17),Ze=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return f.default.createElement(Qe.a,{expand:"sm",bg:"dark",variant:"dark"},f.default.createElement(Qe.a.Brand,{as:g.b,to:"/"},"ScoopSearch"),f.default.createElement(Qe.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),f.default.createElement(Qe.a.Collapse,{id:"responsive-navbar-nav"},f.default.createElement(Ke.a,{className:"mr-auto"},f.default.createElement(Ke.a.Link,{as:g.b,to:"/apps"},"Apps"),f.default.createElement(Ke.a.Link,{as:g.b,to:"/buckets"},"Buckets")),f.default.createElement(Ke.a,null,f.default.createElement(Ke.a.Link,{href:"https://github.com/ScoopSearch"},f.default.createElement(We.d,{size:"1.2em"})))))}}]),a}(f.PureComponent),Ve=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).textAreaRef=f.default.createRef(),e}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.content,a=e.onContentCopied;if(t){var n=this.textAreaRef.current;n&&(n.value=t,n.select(),document.execCommand("copy"),n.blur(),a())}}},{key:"render",value:function(){return f.default.createElement("textarea",{ref:this.textAreaRef,readOnly:!0,style:{position:"absolute",left:-9999}})}}]),a}(f.PureComponent),Ge=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).searchInput=void 0,n.delayBeforeSubmit=void 0,n.handleChange=function(e){var t=n.props,a=t.onQueryChange,r=t.onSubmit;a(e.target.value),n.clearDelayBeforeSubmitTimeout(),n.delayBeforeSubmit=setTimeout(r,250)},n.handleSubmit=function(e){var t=n.props.onSubmit;e.preventDefault(),n.clearDelayBeforeSubmitTimeout(),t()},n.searchInput=f.default.createRef(),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e;null===(e=this.searchInput.current)||void 0===e||e.focus()}},{key:"componentWillUnmount",value:function(){this.clearDelayBeforeSubmitTimeout()}},{key:"clearDelayBeforeSubmitTimeout",value:function(){this.delayBeforeSubmit&&(clearTimeout(this.delayBeforeSubmit),this.delayBeforeSubmit=void 0)}},{key:"render",value:function(){var e=this.props.query;return f.default.createElement(k.a,{onSubmit:this.handleSubmit},f.default.createElement(S.a,null,f.default.createElement(S.a.Prepend,null,f.default.createElement(S.a.Text,null,f.default.createElement(We.e,null))),f.default.createElement(k.a.Control,{ref:this.searchInput,size:"lg",type:"text",placeholder:"Search an app",value:e,onChange:this.handleChange})))}}]),a}(f.PureComponent),Ye=a(102),$e=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).changePage=function(t){var a=e.props,n=a.resultsCount,r=a.resultsPerPage,i=a.onPageChange,o=Math.ceil(n/r);i(Math.max(1,Math.min(t,o)))},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.currentPage,n=t.resultsCount,r=t.resultsPerPage;if(n>0){var i=Math.ceil(n/r);if(i>1){var o=[],l=Math.max(2,a-2),c=Math.min(i-1,a+2),s=4-(c-l),u=c-(c+s);c=Math.min(i-1,c+s);for(var h=function(t){t===a-2+u||t===a+2+s?o.push(f.default.createElement(Ye.a.Ellipsis,{key:t,disabled:!0})):o.push(f.default.createElement(Ye.a.Item,{key:t,active:t===a,onClick:function(){return e.changePage(t)}},t))},d=l=Math.max(2,l+u);d<=c;d+=1)h(d);return f.default.createElement(Ye.a,{size:"sm"},f.default.createElement(Ye.a.Prev,{key:"prev",onClick:function(){return e.changePage(a-1)}}),f.default.createElement(Ye.a.Item,{key:1,active:1===a,onClick:function(){return e.changePage(1)}},1),o,f.default.createElement(Ye.a.Item,{key:i,active:i===a,onClick:function(){return e.changePage(i)}},i),f.default.createElement(Ye.a.Next,{key:"next",onClick:function(){return e.changePage(a+1)}}))}}return f.default.createElement(f.default.Fragment,null)}}]),a}(f.PureComponent),Xe=Object(w.JsonConverter)(L=function(){function e(){Object(d.a)(this,e)}return Object(m.a)(e,[{key:"serialize",value:function(e){throw new Error("Conversion not supported")}},{key:"deserialize",value:function(e){return new Date(e)}}]),e}())||L,et=(F=Object(w.JsonObject)("MetadataJson"),q=Object(w.JsonProperty)("Repository",String),Q=Object(w.JsonProperty)("OfficialRepository",Boolean),K=Object(w.JsonProperty)("RepositoryStars",Number),W=Object(w.JsonProperty)("BranchName",String,!0),Z=Object(w.JsonProperty)("FilePath",String),V=Object(w.JsonProperty)("AuthorName",String),G=Object(w.JsonProperty)("Committed",Xe),Y=Object(w.JsonProperty)("Sha",String),F((X=function e(){Object(d.a)(this,e),Object(A.a)(this,"repository",ee,this),Object(A.a)(this,"repositoryOfficial",te,this),Object(A.a)(this,"stars",ae,this),Object(A.a)(this,"branchName",ne,this),Object(A.a)(this,"filePath",re,this),Object(A.a)(this,"authorName",ie,this),Object(A.a)(this,"committed",oe,this),Object(A.a)(this,"sha",le,this)},ee=Object(N.a)(X.prototype,"repository",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),te=Object(N.a)(X.prototype,"repositoryOfficial",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ae=Object(N.a)(X.prototype,"stars",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ne=Object(N.a)(X.prototype,"branchName",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),re=Object(N.a)(X.prototype,"filePath",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ie=Object(N.a)(X.prototype,"authorName",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),oe=Object(N.a)(X.prototype,"committed",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Date}}),le=Object(N.a)(X.prototype,"sha",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$=X))||$),tt=(ce=Object(w.JsonObject)("ManifestJson"),se=Object(w.JsonProperty)("Id",String),ue=Object(w.JsonProperty)("@search.score",Number),he=Object(w.JsonProperty)("Name",String),fe=Object(w.JsonProperty)("NamePartial",String),de=Object(w.JsonProperty)("NameSuffix",String),me=Object(w.JsonProperty)("Description",String,!0),pe=Object(w.JsonProperty)("Homepage",String,!0),be=Object(w.JsonProperty)("License",String,!0),ge=Object(w.JsonProperty)("Version",String,!0),ye=Object(w.JsonProperty)("Metadata",et),Ee=Object(w.JsonProperty)("@search.highlights",w.Any,!0),ce((Oe=function(){function e(){Object(d.a)(this,e),Object(A.a)(this,"id",Ce,this),Object(A.a)(this,"score",je,this),Object(A.a)(this,"name",Pe,this),Object(A.a)(this,"namePartial",Se,this),Object(A.a)(this,"nameSuffix",ke,this),Object(A.a)(this,"description",Re,this),Object(A.a)(this,"homepage",Ae,this),Object(A.a)(this,"license",Ne,this),Object(A.a)(this,"version",we,this),Object(A.a)(this,"metadata",xe,this),Object(A.a)(this,"highlights",Te,this)}return Object(m.a)(e,[{key:"tryGetHighlight",value:function(e,t){return this.tryGetHighlights([e],t)}},{key:"tryGetHighlights",value:function(e,t){var a=this,n=e.find((function(e){return a.highlights&&a.highlights[e]}));return n&&this.highlights?this.highlights[n]:t}},{key:"highlightedName",get:function(){return this.tryGetHighlights(["Name","NamePartial","NameSuffix"],this.name)}},{key:"highlightedLicense",get:function(){return this.tryGetHighlight("License",this.license)}},{key:"highlightedRepository",get:function(){return this.tryGetHighlight("Metadata/Repository",this.metadata.repository.replace("https://github.com/",""))}},{key:"highlightedAuthorName",get:function(){return this.tryGetHighlight("Metadata/AuthorName",this.metadata.authorName)}},{key:"highlightedDescription",get:function(){return this.tryGetHighlight("Description",this.description)}},{key:"highlightedVersion",get:function(){return this.tryGetHighlight("Version",this.version)}},{key:"favicon",get:function(){if(this.homepage){var e=document.createElement("a");return e.href=this.homepage,"".concat(e.origin,"/favicon.ico")}}}]),e}(),Ce=Object(N.a)(Oe.prototype,"id",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),je=Object(N.a)(Oe.prototype,"score",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Pe=Object(N.a)(Oe.prototype,"name",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Se=Object(N.a)(Oe.prototype,"namePartial",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ke=Object(N.a)(Oe.prototype,"nameSuffix",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Re=Object(N.a)(Oe.prototype,"description",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Ae=Object(N.a)(Oe.prototype,"homepage",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),Ne=Object(N.a)(Oe.prototype,"license",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),we=Object(N.a)(Oe.prototype,"version",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),xe=Object(N.a)(Oe.prototype,"metadata",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new et}}),Te=Object(N.a)(Oe.prototype,"highlights",[Ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),ve=Oe))||ve),at=(_e=Object(w.JsonObject)("SearchResultsJson"),De=Object(w.JsonProperty)("@odata.count",Number),Me=Object(w.JsonProperty)("value",[tt]),_e((ze=Je=function(){function e(){Object(d.a)(this,e),Object(A.a)(this,"count",Ie,this),Object(A.a)(this,"results",He,this)}return Object(m.a)(e,null,[{key:"Create",value:function(t){return e.jsonConvert.deserializeObject(t,e)}}]),e}(),Je.jsonConvert=new w.JsonConvert,Ue=ze,Ie=Object(N.a)(Ue.prototype,"count",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),He=Object(N.a)(Ue.prototype,"results",[Me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Array()}}),Be=Ue))||Be),nt=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).abortController=new AbortController,n.sortModes=[{DisplayName:"Best match",OrderBy:["search.score() desc","Metadata/OfficialRepositoryNumber desc","NameSortable asc"]},{DisplayName:"Name",OrderBy:["NameSortable asc","Metadata/OfficialRepositoryNumber desc","Metadata/RepositoryStars desc","Metadata/Committed desc"]},{DisplayName:"Newest",OrderBy:["Metadata/Committed desc","Metadata/OfficialRepositoryNumber desc","Metadata/RepositoryStars desc"]}],n.handleSortChange=function(e){(0,n.props.onSortIndexChange)(e.target.selectedIndex)},n.state={resultsCount:0,searching:!1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.query;this.fetchDataAsync(this.abortController.signal,e)}},{key:"componentDidUpdate",value:function(e,t){var a=this.props,n=a.query,r=a.page,i=a.sortIndex;n===e.query&&r===e.page&&i===e.sortIndex||(this.abortController.abort(),this.abortController=new AbortController,this.fetchDataAsync(this.abortController.signal,n))}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"fetchDataAsync",value:function(e,t){var a=this;this.setState({searching:!0});var n=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_AZURESEARCH_KEY:"DC6D2BBE65FC7313F2C52BBD2B0286ED",REACT_APP_AZURESEARCH_URL:"https://scoopsearch.search.windows.net/indexes/apps/docs"}),r=n.REACT_APP_AZURESEARCH_URL,i=n.REACT_APP_AZURESEARCH_KEY;if(!r)throw new Error("REACT_APP_AZURESEARCH_URL is not defined");if(!i)throw new Error("REACT_APP_AZURESEARCH_KEY is not defined");var o="".concat(r,"/search?api-version=2020-06-30"),l=this.props,c=l.sortIndex,s=l.page,u=l.resultsPerPage,h=l.onResultsChange;fetch(o,{method:"POST",body:JSON.stringify({count:!0,search:t.trim(),searchMode:"all",orderby:this.sortModes[c].OrderBy.join(", "),skip:(s-1)*u,top:u,select:["Id","Name","NamePartial","NameSuffix","Description","Homepage","License","Version","Metadata/Repository","Metadata/FilePath","Metadata/AuthorName","Metadata/OfficialRepository","Metadata/RepositoryStars","Metadata/Committed","Metadata/Sha"].join(","),highlight:["Name","NamePartial","NameSuffix","Description","Version","License","Metadata/Repository","Metadata/AuthorName"].join(","),highlightPreTag:"<mark>",highlightPostTag:"</mark>"}),headers:{"api-key":i,"Content-Type":"application/json"},signal:e}).then((function(e){if(!e.ok)throw new Error("".concat(e.status," ").concat(e.statusText));return e.json()})).then((function(e){var t=at.Create(e);a.setState({searching:!1,resultsCount:t.count}),h(t)})).catch((function(e){"AbortError"!==e.name&&(a.setState({searching:!1,resultsCount:0}),h(void 0))}))}},{key:"render",value:function(){var e=this.props,t=e.query,a=e.sortIndex,n=this.state,r=n.resultsCount,i=n.searching;return f.default.createElement(k.a,null,f.default.createElement(j.a,null,f.default.createElement(P.a,{className:"my-auto"},f.default.createElement(Fe,{query:t,resultsCount:r,searching:i,type:D.Applications})),f.default.createElement(P.a,{lg:3},f.default.createElement(S.a,{size:"sm"},f.default.createElement(S.a.Prepend,null,f.default.createElement(S.a.Text,null,"Sort by")),f.default.createElement(k.a.Control,{as:"select",size:"sm",custom:!0,value:a,onChange:this.handleSortChange},this.sortModes.map((function(e,t){return f.default.createElement("option",{key:e.DisplayName,value:t},e.DisplayName)})))))))}}]),a}(f.PureComponent),rt=a(55),it=a.n(rt),ot=a(66),lt=a.n(ot),ct=a(101),st=a(67),ut=a(95),ht=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleClick=function(){(0,n.props.onClick)(),n.setState({copied:!0})},n.state={copied:!1},n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.state.copied;n&&n!==t.copied&&setTimeout((function(){a.setState({copied:!1})}),1500)}},{key:"render",value:function(){var e=this.props.className,t=this.state.copied;return f.default.createElement(ut.a,{className:e,variant:"secondary",onClick:this.handleClick,disabled:t},t?f.default.createElement(We.a,{className:"faIconVerticalAlign"}):f.default.createElement(We.b,{className:"faIconVerticalAlign"}))}}]),a}(f.PureComponent),ft=a(96),dt=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.stars;return f.default.createElement(ft.a,{variant:"secondary",className:"ml-1 starsBadge"},f.default.createElement("span",null,e)," ",f.default.createElement(We.f,null))}}]),a}(f.PureComponent);it.a.extend(lt.a);var mt=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleCopyToClipboard=function(t){(0,e.props.onCopyToClipbard)(t)},e.displayHighlight=function(e){return e&&f.default.createElement("span",{dangerouslySetInnerHTML:{__html:e}})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props.result,a=t.id,n=(t.score,t.name),r=t.favicon,i=t.highlightedName,o=t.highlightedDescription,l=t.highlightedLicense,c=t.highlightedRepository,s=t.highlightedAuthorName,u=t.highlightedVersion,h=t.metadata,d=t.homepage;return f.default.createElement(ct.a,{key:a,className:"mb-2"},f.default.createElement(ct.a.Header,null,r&&f.default.createElement(st.Img,{className:"mr-2",src:r,width:20,height:20}),f.default.createElement("strong",null,this.displayHighlight(i))," - ",this.displayHighlight(u),h.repositoryOfficial&&f.default.createElement(H,null),!1),f.default.createElement(ct.a.Body,null,f.default.createElement(C.a,null,o&&f.default.createElement(j.a,{className:"mb-3"},f.default.createElement(P.a,null,this.displayHighlight(o))),f.default.createElement("small",null,f.default.createElement(j.a,null,f.default.createElement(P.a,{lg:6},"Updated: ",it()(h.committed).format("LLL")),f.default.createElement(P.a,{lg:6},"License: ",this.displayHighlight(l))),f.default.createElement(j.a,{className:"mb-2"},f.default.createElement(P.a,{lg:6},"Bucket:"," ",f.default.createElement("a",{href:h.repository},this.displayHighlight(c)),f.default.createElement(dt,{stars:h.stars}),h.repositoryOfficial&&f.default.createElement(H,null),!h.repositoryOfficial&&f.default.createElement(ht,{className:"ml-1 ms copyToClipbardMiniButton",onClick:function(){return e.handleCopyToClipboard("scoop bucket add ".concat(M.extractPathFromUrl(h.repository,"_")," ").concat(h.repository))}})),f.default.createElement(P.a,{lg:6},"Commiter: ",this.displayHighlight(s))),f.default.createElement(j.a,{className:"text-center",noGutters:!0},f.default.createElement(P.a,{lg:!0,xs:4,className:"mt-1 mb-2"},f.default.createElement("a",{href:d},"Homepage ",f.default.createElement(We.c,null))),f.default.createElement(P.a,{lg:!0,xs:4,className:"mt-1 mb-2"},f.default.createElement("a",{href:"".concat(h.repository,"/blob/master/").concat(h.filePath)},"Manifest ",f.default.createElement(We.c,null))),f.default.createElement(P.a,{lg:!0,xs:4,className:"mt-1 mb-2"},f.default.createElement("a",{href:"".concat(h.repository,"/commit/").concat(h.sha)},"Commit ",f.default.createElement(We.c,null))),f.default.createElement(P.a,{lg:5},f.default.createElement(S.a,{size:"sm"},f.default.createElement(S.a.Prepend,null,f.default.createElement(S.a.Text,{className:"scoopCopyCommand border-right-0"},">")),f.default.createElement(k.a.Control,{className:"border-left-0",readOnly:!0,type:"text",value:"scoop install ".concat(n)}),f.default.createElement(S.a.Append,null,f.default.createElement(ht,{onClick:function(){return e.handleCopyToClipboard("scoop install ".concat(n))}})))))))))}}]),a}(f.PureComponent),pt=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(e){var n;Object(d.a)(this,a),(n=t.call(this,e)).getQueryFromUri=function(){var e=n.props.location;return e.search.length>1?decodeURIComponent(e.search.substr(1)):""},n.getCurrentPageFromUri=function(){var e=n.props.match;return parseInt(e.params.page||"1",10)},n.updateHistory=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=n.props,r=a.history,i=a.location;r.replace({search:null!==e&&void 0!==e?e:i.search,pathname:null!==t&&void 0!==t?t:"/apps"})},n.handleQueryChange=function(e){n.updateHistory(encodeURIComponent(e),void 0),n.setState({searchBarQuery:e,currentPage:1})},n.handleQuerySubmit=function(){var e=n.state.searchBarQuery;n.setState({query:e})},n.handleResultsChange=function(e){n.setState({searchResults:e})},n.handlePageChange=function(e){n.updateHistory(void 0,"/apps/".concat(e)),n.setState({currentPage:e})},n.handleSortChange=function(e){sessionStorage.setItem("sortIndex",e.toString()),n.setState({sortIndex:e})},n.handleCopyToClipboard=function(e){n.setState({contentToCopy:e})},n.handleContentCopied=function(){n.setState({contentToCopy:void 0})};var r=parseInt(sessionStorage.getItem("sortIndex")||"0",10),i=n.getQueryFromUri();return n.state={searchBarQuery:i,query:i,currentPage:n.getCurrentPageFromUri(),sortIndex:r},n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props.location,a=this.getQueryFromUri();e.location.search!==t.search&&this.setState({searchBarQuery:a,query:a}),e.location.pathname!==t.pathname&&this.setState({currentPage:this.getCurrentPageFromUri()})}},{key:"render",value:function(){var e,t,a=this,n=this.state,r=n.contentToCopy,i=n.searchBarQuery,o=n.query,l=n.currentPage,c=n.sortIndex,s=n.searchResults;return f.default.createElement("div",{className:"Search"},f.default.createElement(Ve,{content:r,onContentCopied:this.handleContentCopied}),f.default.createElement(C.a,{className:"mt-5 mb-5"},f.default.createElement(j.a,{className:"justify-content-center"},f.default.createElement(P.a,{sm:8},f.default.createElement(Ge,{query:i,onQueryChange:this.handleQueryChange,onSubmit:this.handleQuerySubmit}))),f.default.createElement(j.a,{className:"mt-5 mb-1"},f.default.createElement(P.a,null,f.default.createElement(nt,{resultsPerPage:20,page:l,query:o,sortIndex:c,onResultsChange:this.handleResultsChange,onSortIndexChange:this.handleSortChange}))),f.default.createElement(j.a,null,f.default.createElement(P.a,{className:"d-flex justify-content-center"},f.default.createElement($e,{resultsPerPage:20,currentPage:l,resultsCount:null!==(e=null===s||void 0===s?void 0:s.count)&&void 0!==e?e:0,onPageChange:this.handlePageChange}))),f.default.createElement(j.a,{className:"mt-2"},f.default.createElement(P.a,null,null===s||void 0===s?void 0:s.results.map((function(e){return f.default.createElement(mt,{key:e.id,result:e,onCopyToClipbard:a.handleCopyToClipboard})})))),f.default.createElement(j.a,null,f.default.createElement(P.a,{className:"d-flex justify-content-center"},f.default.createElement($e,{resultsPerPage:20,currentPage:l,resultsCount:null!==(t=null===s||void 0===s?void 0:s.count)&&void 0!==t?t:0,onPageChange:this.handlePageChange})))))}}]),a}(f.PureComponent),bt=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return f.default.createElement(g.a,null,f.default.createElement(Ze,null),f.default.createElement(y.d,null,f.default.createElement(y.b,{path:"/apps/:page?",component:pt}),f.default.createElement(y.b,{path:"/buckets",component:qe}),f.default.createElement(y.b,{path:"/"},f.default.createElement(y.a,{to:"/apps"}))))}}]),a}(f.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));f.default.render(f.default.createElement(f.default.StrictMode,null,f.default.createElement(bt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[71,1,2]]]);
//# sourceMappingURL=main.ffa7e87c.chunk.js.map